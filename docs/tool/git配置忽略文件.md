---
title: git配置忽略文件
---

在仓库根目录下创建`.gitignore`文件，用来配置 git 忽略文件。
.gitignore 文件对其所在的目录及所在目录的全部子目录均有效。通过将.gitignore 文件添加到仓库，其他开发者更新该文件到本地仓库，以共享同一套忽略规则。

# gitignore 规则

下面我们看看常用的规则：

1. `/mtk/ ` 过滤整个文件夹
2. `*.zip ` 过滤所有.zip 文件
3. `/mtk/do.c` 过滤某个具体文件

gitignore 还可以指定要将哪些文件添加到版本管理中：

1.  `!*.zip`
2.  `!/mtk/one.txt`

唯一的区别就是规则开头多了一个感叹号，Git 会将满足这类规则的文件添加到版本管理中。
为什么要有两种规则呢？想象一个场景：假如我们只需要管理/mtk/目录中的 one.txt 文件，这个目录中的其他文件都不需要管理，那么我们就需要使用：

```
/mtk/
!/mtk/one.txt
```

假设我们只有过滤规则，而没有添加规则，那么我们就需要把/mtk/目录下除了 one.txt 以外的所有文件都写出来！

这里需要强调的一点是，如果你不慎在创建.gitignore 文件之前就 push 了项目，那么即使你在.gitignore 文件中写入新的过滤规则，这些规则也不会起作用，Git 仍然会对所有文件进行版本管理。
简单来说，出现这种问题的原因就是 Git 已经开始管理这些文件了，所以你无法再通过过滤规则过滤它们。因此一定要养成在项目开始就创建.gitignore 文件的习惯，否则一旦 push，处理起来会非常麻烦。

# 配置语法

-   以斜杠“/”开头表示目录；
-   以星号“\*”通配多个字符；
-   以问号“?”通配单个字符
-   以方括号“[]”包含单个字符的匹配列表；
-   以叹号“!”表示不忽略(跟踪)匹配到的文件或目录；

此外，git 对于 .ignore 配置文件是按行从上到下进行规则匹配的，意味着如果前面的规则匹配的范围更大，则后面的规则将不会生效；

## 示例说明

1. 规则：fd1/\*
   说明：忽略目录 fd1 下的全部内容；注意，不管是根目录下的 /fd1/ 目录，还是某个子目录 /child/fd1/ 目录，都会被忽略；
2. 规则：/fd1/\*
   说明：忽略根目录下的 /fd1/ 目录的全部内容；
3. 规则：
   /\*
   !.gitignore
   !/fw/bin/
   !/fw/sf/
   说明：忽略全部内容，但是不忽略 .gitignore 文件、根目录下的 /fw/bin/ 和 /fw/sf/ 目录；
